source('~/PycharmProjects/Localflow/scripts/R/r_files/aws_configure.R')
tryCatch({
nowtime <- as.character(now(tzone = 'UTC'))
nowtime <- str_replace(nowtime, ' ', '_')
now_time_csv <- glue('stream_{nowtime}.csv')
now_time_zip <- glue('stream_{nowtime}.zip')
fs::file_move(path = 'stream.csv', new_path = now_time_csv)
zip(zipfile = now_time_zip, files = now_time_csv)
s3_upload_file(bucket = 'reddit-dumps', from = now_time_zip, to = now_time_zip, make_public = TRUE)
file_delete(now_time_csv)
file_delete(now_time_zip)
sns_send_message(phone_number = Sys.getenv('MY_PHONE'), message = 'File uploaded')
}, error = function(e) {
sns_send_message(phone_number = Sys.getenv('MY_PHONE'), message = 'Something went wrong.')
})
library(biggr)
library(redditor)
tryCatch({
nowtime <- as.character(now(tzone = 'UTC'))
nowtime <- str_replace(nowtime, ' ', '_')
now_time_csv <- glue('stream_{nowtime}.csv')
now_time_zip <- glue('stream_{nowtime}.zip')
fs::file_move(path = 'stream.csv', new_path = now_time_csv)
zip(zipfile = now_time_zip, files = now_time_csv)
s3_upload_file(bucket = 'reddit-dumps', from = now_time_zip, to = now_time_zip, make_public = TRUE)
file_delete(now_time_csv)
file_delete(now_time_zip)
sns_send_message(phone_number = Sys.getenv('MY_PHONE'), message = 'File uploaded')
}, error = function(e) {
sns_send_message(phone_number = Sys.getenv('MY_PHONE'), message = 'Something went wrong.')
})
fs::file_info()
fs::file_info('README.md')
fs::file_info('README.md')$size
as.character(fs::file_info('README.md')$size)
pwd()
getwd()
library(tidyverse)
stream <- read_csv('r_files/stream.csv')
stream
stream %>% group_by(author, created_utc) %>% count()
stream %>% group_by(author, created_utc) %>% count() %>% arrange(desc(n))
stream %>% group_by(author, created_utc) %>% count() %>% arrange(desc(n))
stream %>% group_by(author, created_utc) %>% count() %>% arrange(desc(n))
stream %>% group_by(author, created_utc) %>% count() %>% arrange(desc(n))
stream %>% group_by(author, created_utc) %>% count() %>% arrange(desc(n))
stream %>% group_by(author, created_utc) %>% count() %>% arrange(desc(n))
stream %>% group_by(author, created_utc) %>% count() %>% arrange(desc(n))
stream %>% group_by(author, created_utc) %>% count() %>% arrange(desc(n))
stream <- read_csv('r_files/stream.csv')
stream %>% group_by(author, created_utc) %>% count() %>% arrange(desc(n))
stream %>% group_by(author, created_utc) %>% count() %>% arrange(desc(n))
stream %>% group_by(author, created_utc) %>% count() %>% arrange(desc(n))
read_csv('r_files/stream.csv') %>% group_by(author, created_utc) %>% count() %>% arrange(desc(n))
read_csv('r_files/stream.csv') %>% group_by(author, created_utc) %>% count() %>% arrange(desc(n))
read_csv('r_files/stream.csv') %>% group_by(author, created_utc) %>% count() %>% arrange(desc(n))
read_csv('r_files/stream.csv') %>% group_by(author, created_utc) %>% count() %>% arrange(desc(n))
read_csv('r_files/stream.csv') %>% group_by(author, created_utc) %>% count() %>% arrange(desc(n))
read_csv('r_files/stream.csv') %>% group_by(author, created_utc) %>% count() %>% arrange(desc(n))
read_csv('r_files/stream.csv') %>% group_by(author, created_utc) %>% count() %>% arrange(desc(n))
read_csv('r_files/stream.csv') %>% group_by(author, created_utc) %>% count() %>% arrange(desc(n)) %>% as.data.frame()
duplicated(read_csv('r_files/stream.csv'))
sum(duplicated(read_csv('r_files/stream.csv')))
read_csv('r_files/stream.csv') %>% group_by(author, created_utc) %>% count() %>% arrange(desc(n)) %>% as.data.frame()
read_csv('r_files/stream.csv') %>% group_by(author, created_utc) %>% count() %>% arrange(desc(n)) %>% as.data.frame()
read_csv('r_files/stream.csv') %>% group_by(author, created_utc) %>% count() %>% arrange(desc(n)) %>% as.data.frame()
read_csv('r_files/stream.csv') %>% group_by(author, created_utc) %>% count() %>% arrange(desc(n)) %>% as.data.frame()
read_csv('r_files/stream.csv') %>% group_by(author, created_utc) %>% count() %>% arrange(desc(n)) %>% as.data.frame()
read_csv('r_files/stream.csv') %>% group_by(author, created_utc) %>% count() %>% arrange(desc(n)) %>% as.data.frame()
read_csv('r_files/stream.csv') %>% group_by(author, created_utc) %>% count() %>% arrange(desc(n)) %>% as.data.frame()
read_csv('r_files/stream.csv') %>% group_by(author, created_utc) %>% count() %>% arrange(desc(n)) %>% as.data.frame()
read_csv('r_files/stream.csv') %>% group_by(author, created_utc) %>% count() %>% arrange(desc(n)) %>% as.data.frame()
read_csv('r_files/stream.csv') %>% group_by(author, created_utc) %>% count() %>% arrange(desc(n)) %>% as.data.frame()
read_csv('r_files/stream.csv') %>% group_by(author, created_utc) %>% count() %>% arrange(desc(n)) %>% as.data.frame()
read_csv('r_files/stream.csv') %>% group_by(author, created_utc) %>% count() %>% arrange(desc(n)) %>% as.data.frame()
read_csv('r_files/stream.csv') %>% group_by(author, created_utc) %>% count() %>% arrange(desc(n)) %>% as.data.frame()
read_csv('r_files/stream.csv') %>% group_by(author, created_utc) %>% count() %>% arrange(desc(n)) %>% as.data.frame()
read_csv('r_files/stream.csv') %>% group_by(author, created_utc) %>% count() %>% arrange(desc(n)) %>% as.data.frame()
read_csv('r_files/stream.csv') %>% group_by(author, created_utc) %>% count() %>% arrange(desc(n)) %>% as.data.frame()
read_csv('r_files/stream.csv') %>% group_by(author, created_utc) %>% count() %>% arrange(desc(n)) %>% as.data.frame()
read_csv('r_files/stream.csv') %>% group_by(author, created_utc) %>% count() %>% arrange(desc(n)) %>% as.data.frame()
read_csv('r_files/stream.csv')
read_csv('r_files/stream.csv')
read_csv('r_files/stream.csv')
read_csv('r_files/stream.csv')
read_csv('r_files/stream.csv')
read_csv('r_files/stream.csv')
read_csv('r_files/stream.csv')
read_csv('r_files/stream.csv')
read_csv('r_files/stream.csv')
dim(read_csv('r_files/stream.csv') )
dim(read_csv('r_files/stream.csv') )
read_csv('r_files/stream.csv', col_names = FALSE)
write_csv(iris, 'iris.csv', append = TRUE)
getwd()
read_csv('iris.csv')
file.remove('iris.csv')
